<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        h1{margin-bottom:50px;}
        input{height:30px; border-radius: 5px; border:1px solid gray; padding:5px; margin-left:20px; width: 200px;}
        form>div{margin-bottom:20px;}
        form .check{color:green; opacity:0;}
        form .check.on{animation: fadeIn 0.5s ease-in-out forwards;}
        button{width:200px; height:50px; background-color: gray; color:#fff; border-radius: 5px; border:none; font-size:28px;}
        button.active{background-color: tomato;}

        @keyframes fadeIn {
            from {opacity:0;}
            to{opacity:1;}
        }
    </style>
</head>
<body>
    <h1>로그인</h1>
    <form>
        <div class="user_id">
            <label for="userId">아이디</label>
            <input type="text" id="userId" placeholder="아이디를 입력하세요" maxlength="20" autocomplete="off">
            <span class="check">사용 가능한 아이디입니다.</span>
        </div>
        <div class="user_password">
            <label for="userPassword">비밀번호</label>
            <input type="password" id="userPassword" placeholder="비밀번호를 입력하세요" maxlength="16" autocomplete="off">
            <span class="check">사용 가능한 비밀번호 입니다.</span>
        </div>
        <button type="button" onclick="submitForm()">확인</button>
    </form>


    <script src="https://code.jquery.com/jquery-3.5.1.min.js" ></script>
    <script>

        var userId = $('#userId');
        var userPassword = $('#userPassword');
        var idPattern = /^[a-z0-9_-]{5,20}$/;
        var pwPattern = /[a-zA-Z0-9~!@#$%^&*()_+|<>?:{}-]{8,16}/;

        function submitForm(){
            if(userId.val() === ''){
                alert('아이디를 입력해주세요');
                userId.focus();
                return false;
            }
            if(!idPattern.test(userId.val())){
                alert('아이디는 5~20자의 영문 소문자, 숫자와 특수기호(_),(-)만 사용 가능합니다.');
                userId.focus();
                return false;
            }
            if(userPassword.val() === ''){
                alert('비밀번호를 입력해주세요');
                userPassword.focus();
                return false;
            }
            if(!pwPattern.test(userPassword.val())){
                alert('비밀번호는 8~16자 영문 대소문자, 숫자, 특수문자로 이루어져야 합니다.');
                userPassword.focus();
                return false;
            }

            alert('로그인이 완료 되었습니다.');
            return true;

        }

        function checkInput(){
          //input value값에 따라 button 비활성화, 활성화
          $('form input').on('change keyup', function(){
            if(idPattern.test(userId.val())){
                $('.user_id .check').addClass('on');
            }else{
                $('.user_id .check').removeClass('on');
            }
            if(pwPattern.test(userPassword.val())){
                $('.user_password .check').addClass('on');
            }else{
                $('.user_password .check').removeClass('on');
            }

            if($('.user_id').hasClass('on') && $('.user_password').hasClass('on')){
                $(button).addClass('active');
            }else{
                $(button).removeClass('active');
            }

          });       
        }
        checkInput();
    </script>
</body>
</html>